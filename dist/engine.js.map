{"version":3,"file":"engine.js","sourceRoot":"","sources":["../src/engine.ts"],"names":[],"mappings":"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"}